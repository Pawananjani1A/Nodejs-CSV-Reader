<!DOCTYPE html>
<html>

<head>
    <title>
        <%= title %>
    </title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" type="text/css" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</head>
<style>
    a {
        text-decoration: none;
    }
    
    .sd {
        margin: 5px;
    }
    
    footer {
        text-align: center;
    }
    
    .hdr {
        font-weight: bolder;
        text-shadow: #e25555;
        color: red;
        text-align: center;
    }
</style>

<body>
    <h3 class="hdr">
        <%= title %>
    </h3>
    <p class="hdr">Welcome to
        <%= title %>
    </p>

    <a href="books"><button  class="btn-primary">Books</button></a>
    <a href="authors"><button class="btn-secondary">Authors</button></a>
    <a href="magazines"><button class="btn-danger" >Magazines</button></a>
    <a href="/"><button class="btn-success" >Home</button></a>
    <!-- book -->
    <% if (data) { %>
        <h3>This is for book</h3>
        <table class="table table-striped table-hover table-bordered">
            <thead>
                <tr>
                    <th>Title</th>
                    <th scope="col">ISBN</th>
                    <th scope="col">Authors</th>
                    <th scope="col">Description</th>
                </tr>
            </thead>
            <% for( let i = 0; i < data.length; i++ ) { %>
                <tr>
                    <td data-label="Name">
                        <%= data[i].title %>
                    </td>
                    <td>
                        <%= data[i].isbn %>
                    </td>
                    <td>
                        <%= data[i].authors %>
                    </td>
                    <td>
                        <%= data[i].description %>
                    </td>
                </tr>
                <% } %>

                    <form class="form-inline" action="/add-book" method="post">
                        <input class="form-control sd" type="text" name="title" placeholder="Title" />
                        <input class="form-control sd" type="text" name="isbn" placeholder="ISBN" />
                        <input class="form-control sd" type="text" name="authors" placeholder="Authors" />
                        <input class="form-control sd" type="text" name="description" placeholder="Description" />
                        <input class="btn btn-primary mb-2 sd" type="submit" value="Add Book" />
                    </form>
                    <br></br>
                    <form class="form-inline" action="/filter-book" method="post">
                        SEARCH ISBN: <input class="form-group mx-sm-3 mb-2" type="text" name="isbn" placeholder="ISBN" />
                        <input class="btn btn-primary mb-2" type="submit" value="Search" />
                    </form>
                    <br></br>
                    <form class="form-inline" action="/filter-email" method="post">
                        SEARCH EMAIL: <input class="form-group mx-sm-3 mb-2" type="text" name="email" placeholder="ISBN" />
                        <input class="btn btn-primary mb-2" type="submit" value="Search" />
                    </form>
                    <a href="downbook" style="display: flex; float: right;">Export CSV</a>

        </table>
        <% } %>

            <!-- Magazines -->
            <% if (mg) { %>
                <h3>This is for Magazines</h3>
                <table class="table table-striped table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th scope="col">ISBN</th>
                            <th scope="col">Authors</th>
                            <th scope="col">PublishedAt</th>
                        </tr>
                    </thead>
                    <% for( let i = 0; i < mg.length; i++ ) { %>
                        <tr>
                            <td>
                                <%= mg[i].title %>
                            </td>
                            <td>
                                <%= mg[i].isbn %>
                            </td>
                            <td>
                                <%= mg[i].authors %>
                            </td>
                            <td>
                                <%= mg[i].publishedAt %>
                            </td>
                        </tr>
                        <% } %>

                            <form class="form-inline" action="/add-mg" method="post">
                                <input class="form-control sd" type="text" name="title" placeholder="Title" />
                                <input class="form-control sd" type="text" name="isbn" placeholder="ISBN" />
                                <input class="form-control sd" type="text" name="authors" placeholder="Authors" />
                                <input class="form-control sd" type="text" name="publishedAt" placeholder="PublishedAt" />
                                <input class="btn btn-primary mb-2 sd" type="submit" value="Add Magazines" />
                            </form>
                            <br></br>
                            <form class="form-inline" action="/filter-book" method="post">
                                SEARCH ISBN: <input class="form-group mx-sm-3 mb-2" type="text" name="isbn" placeholder="ISBN" />
                                <input class="btn btn-primary mb-2" type="submit" value="Search" />
                            </form>
                            <br></br>
                            <form class="form-inline" action="/filter-email" method="post">
                                SEARCH EMAIL: <input class="form-group mx-sm-3 mb-2" type="text" name="email" placeholder="ISBN" />
                                <input class="btn btn-primary mb-2" type="submit" value="Search" />
                            </form>
                            <a href="downmg" style="display: flex; float: right;">Export CSV</a>
                </table>
                <% } %>

                    <!-- authors -->

                    <% if (auth) { %>
                        <h3>This is for Authors</h3>
                        <table class="table table-striped table-hover table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Email</th>
                                    <th scope="col">Firstname</th>
                                    <th scope="col">Lastname</th>
                                </tr>
                            </thead>
                            <% for( let i = 0; i < auth.length; i++ ) { %>
                                <tr>
                                    <td>
                                        <%= auth[i].email %>
                                    </td>
                                    <td>
                                        <%= auth[i].firstname %>
                                    </td>
                                    <td>
                                        <%= auth[i].lastname %>
                                    </td>
                                </tr>
                                <% } %>

                                    <form class="form-inline" action="/add-auth" method="post">
                                        <input class="form-control sd" type="text" name="email" placeholder="email" />
                                        <input class="form-control sd" type="text" name="firstname" placeholder="firstname" />
                                        <input class="form-control sd" type="text" name="lastname" placeholder="lastname" />
                                        <input class="btn btn-primary mb-2 sd" type="submit" value="Add Authors" />
                                    </form>
                                    <a href="downauth" style="display: flex; float: right;">Export CSV</a>
                        </table>
                        <% } %>
</body>
<footer>
    Made with <i class="icon ion-heart" style="color: #e25555; margin-top:25px;"></i> By Pawananjani Kumar
</footer>

</html>